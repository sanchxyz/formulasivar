/* 1. El Banner (Imagen/Futuro Video) */
.hero-banner {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    overflow: hidden;
    /* Asegura que el video no se salga del contenedor */

    /* ANTES: 85vh | AHORA: 60vh */
    /* Reducimos la altura para que no ocupe tanto espacio vertical */
    height: 60vh;

    /* La imagen de fondo actúa como fallback si el video no carga */
    background-image: url('/assets/icons/baner_calendario.webp');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: -1;

    /* Ajustamos la máscara para que el desvanecido empiece antes */
    -webkit-mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
    mask-image: linear-gradient(to bottom, black 50%, transparent 100%);
}


.content-wrapper {
    position: fixed;
    z-index: 1;
    top: 55vh;
    left: 0;
    right: 0;
    bottom: 0;

    background: rgba(18, 18, 18, 0.15);

    border-radius: 40px 40px 0 0;

    /* Borde superior sutil que simula el grosor del cristal */
    border-top: 1px solid rgba(255, 255, 255, 0.12);

    /* Sombra profunda para dar peso al material */
    box-shadow: 0 -15px 45px rgba(0, 0, 0, 0.6);
    padding-top: 20px;
    overflow-y: auto;
    /* Permitir scroll vertical */
    overflow-x: hidden;
    /* Ocultar scroll horizontal */

    /* Estilos de scrollbar para Firefox (Oculto) */
    scrollbar-width: none;
}

/* Brillo sutil de "Reflejo Líquido" en la parte superior del contenedor */
.content-wrapper::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 150px;
    /* Solo en la parte superior */
    background: linear-gradient(to bottom,
            rgba(255, 255, 255, 0.05) 0%,
            rgba(255, 255, 255, 0) 100%);
    pointer-events: none;
    border-radius: 40px 40px 0 0;
}

/* =========================================
   CONFIGURACIÓN DE LA PÁGINA
   ========================================= */
.page-title {
    /* 1. Tipografía y Tamaño Dinámico */
    font-size: clamp(0.80rem, 7vw, 3.5rem);
    /* Lo hacemos un poco más grande para el impacto */
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 3px;
    text-align: center;
    margin: 40px 0;
    color: #d6d4d4;

    filter: drop-shadow(0 2px 8px rgba(51, 52, 52, 0.3));
}

/* Elimina o comenta esto si quieres el fondo exacto del Home */
.color-bg-fixed {
    display: none;
}

/* Asegúrate de que la textura herede el efecto de home.css */
.texture-layer {
    mix-blend-mode: overlay !important;
    opacity: 0.20 !important;
    z-index: -2;
}

/* =========================================
   GRID DE CARRERAS
   ========================================= */
.calendar-grid {
    display: grid;
    /* 1. Reducimos el mínimo a 260px para permitir 4 columnas en desktop estándar */
    /* 2. Usamos auto-fill para que mantengan su tamaño real y no se estiren de más */
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 20px;
    width: 100%;
    padding-bottom: 50px;
}

/* =========================================
   RACE CARD (Efecto Vidrio Premium)
   ========================================= */
.race-card {
    position: relative;
    aspect-ratio: 16 / 9;
    height: auto;
    border-radius: var(--radius-lg);
    overflow: hidden;
    border: var(--glass-border);
    transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.3s ease;
    cursor: pointer;
}

.race-card-images {
    position: absolute;
    inset: 0;
    background-color: #1A1A1A; /* Dark background for the image container, fallback if SVG fails */
}

.race-default-background-image { /* The always-present SVG */
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 0; /* Lowest layer */
}

.race-main-image { /* The optional main image */
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Cover the container without distortion */
    opacity: 0.7; /* Slightly dim the primary image to make text more legible */
    transition: opacity 0.3s ease;
    z-index: 1; /* Above the default background */
}

.race-card:hover .race-main-image {
    opacity: 1; /* Brighten on hover */
}

.race-card:hover {
    box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
}

/* =========================================
   RACE CARD (Ajuste de Nitidez)
   ========================================= */

.race-overlay {
    position: absolute;
    inset: 0;
    /* Mantenemos el degradado para que el texto sea legible */
    background: linear-gradient(to top, rgba(0, 0, 0, 0.9) 20%, rgba(0, 0, 0, 0.2) 100%);
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 20px;

    /* ELIMINADO: backdrop-filter: blur(2px); */
    /* Mantenemos la transición solo por si decides añadir otro efecto luego */
    transition: background 0.3s ease;
    z-index: 2; /* Added z-index */
}

.race-card:hover .race-overlay {
    /* ELIMINADO: backdrop-filter: blur(0px); */

    /* OPCIONAL: Podemos hacer que el fondo se oscurezca un poquito más 
       en hover para resaltar el texto en lugar de usar blur */
    background: linear-gradient(to top, rgba(0, 0, 0, 0.95) 30%, rgba(0, 0, 0, 0.3) 100%);
}

.race-number {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 2.5rem;
    font-weight: 900;
    color: rgba(255, 255, 255, 0.1);
    font-style: italic;
}

.race-date {
    font-size: 0.75rem;
    font-weight: 600;
    color: orange;
    text-transform: uppercase;
    margin-bottom: 5px;
}

.race-name {
    font-size: 1.3rem;
    font-weight: 800;
    margin-bottom: 5px;
    line-height: 1;
}

.race-desc {
    font-size: 0.85rem;
    color: var(--color-text-secondary);
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    line-height: 1.3;
}

/* =========================================
   TÍTULO SOBRE EL BANNER
   ========================================= */
/* Ajuste del contenedor para alinear a la izquierda */
.banner-title-container {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
        display: flex;
        align-items: flex-start; /* Alineado arriba */
        padding-top: 15vh; /* Lo baja para centrarlo en la mitad superior */
        justify-content: flex-start;
    /* Alineación horizontal a la izquierda */
    padding-left: 8%;
    /* Ajusta este porcentaje para moverlo más o menos a la derecha */
    z-index: 1;
    /* Asegura que el título esté sobre el video */
}

/* Ajuste del título principal */
.hero-banner .page-title {
    margin: 0;
    text-shadow: 0 4px 15px rgba(0, 0, 0, 0.8);
    font-size: clamp(1.5rem, 4vw, 2rem);
    display: flex;
    flex-direction: column; /* Se ajusta la posición de los elementos para que el logo esté arriba del texto */
    align-items: flex-start;
    /* CLAVE: Alinea los elementos internos (span) a la izquierda */
    text-align: left;
    /* Asegura que el texto fluya a la izquierda */
    line-height: 1;
}

/* Estilo para el logo en el banner */
.hero-banner .page-title .banner-logo {
    width: clamp(90px, 16.5vw, 150px);
    height: auto;
    margin-bottom: 0px;
}



/* =========================================
   MEDIA QUERIES
   ========================================= */

@media screen and (min-width: 1200px) {
    .calendar-grid {
        /* En pantallas muy grandes, forzamos 4 columnas exactas para control total */
        grid-template-columns: repeat(4, 1fr);
        gap: 25px;
    }
}

/* Ajustes para Móvil (QUERY COMBINADA) */
@media screen and (max-width: 768px) {
    .hero-banner {
        /* Reducimos la altura del banner al 35% de la pantalla */
        height: 35vh;
    }

    .content-wrapper {
        top: 35vh;
        /* Bajamos un poco el contenedor en móvil */
        /* Ajustado al 35vh del banner */
        /* En móvil aumentamos un poco la opacidad para mejorar la legibilidad */
        background: rgba(18, 18, 18, 0.35);
        backdrop-filter: blur(18px) saturate(160%);
    }

    /* Ajustamos el tamaño del título para que no quede muy apretado en el nuevo espacio */
    .hero-banner .page-title {
        font-size: clamp(1.5rem, 5vw, 2.2rem);
        /* Reducimos el tamaño para móvil */
    }

    .hero-banner .page-title span {
        font-size: 0.4em;
        letter-spacing: 3px;
        margin-top: 5px;
    }

    /* Ajuste de tamaño del logo para móvil */
    .hero-banner .page-title .banner-logo {
        width: clamp(63px, 11.55vw, 105px);
        /* Reducido 30% para móvil */
    }

    /* Reducimos el padding lateral en móvil para ganar espacio */
    .banner-title-container {
        padding-left: 5%;
        padding-top: 8vh; /* Ajuste para la altura del banner móvil */
    }
}

/* =========================================
   CUSTOM SCROLLBAR (WEBKIT) - Oculta
   ========================================= */
.content-wrapper::-webkit-scrollbar {
    display: none; /* Oculta la barra de scroll en Chrome, Safari, etc. */
}

/* =========================================
   VIDEO BACKGROUND
   ========================================= */
#banner-video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    /* Hace que el video cubra todo el espacio sin deformarse */
    z-index: -1;
    /* Lo pone detrás del contenido del banner (el título) */
}

.video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    background: radial-gradient(circle at top left, rgba(0, 0, 0, 0.8) 30%, rgba(0, 0, 0, 0) 70%);
}
/* =========================================
   DETALLES DE EVENTO (SLIDESHOW)
   ========================================= */

/* Ocultar/Mostrar el contenedor de detalles */
.event-detail-container {
    position: fixed; /* Changed to fixed for better centering relative to viewport */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Centering trick */
    
    /* Desktop default size */
    width: 100%; /* Make it occupy full width */
    max-width: 100%; /* Remove max width constraint */
    height: 100%; /* Make it occupy full height */
    max-height: 100%; /* Remove max height constraint */

    background-color: rgba(0, 0, 0, 0.85); /* Fondo oscuro semitransparente */
    backdrop-filter: blur(20px) saturate(180%); /* Efecto de cristal esmerilado */
    z-index: 10; /* Asegura que esté por encima del video y del banner-title-container */
    display: flex; /* Keep flex for centering its content */
    justify-content: center;
    align-items: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.5s ease, visibility 0.5s ease;
    padding: 0; /* Remove general padding */
    box-sizing: border-box; /* Include padding in the width/height */

    border-radius: 0; /* Remove border-radius for full screen */
    border: none; /* Remove border for full screen */
    box-shadow: none; /* Remove box-shadow for full screen */
}

.event-detail-container.visible {
    opacity: 1;
    visibility: visible;
}

.event-detail-container.hidden {
    display: none; /* Asegura que no ocupe espacio cuando está oculto */
}

/* Botón de cerrar */
.close-button {
    position: absolute;
    top: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.1);
    border: none;
    border-radius: 50%;
    color: white;
    font-size: 1.5rem;
    width: 40px;
    height: 40px;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 11; /* Por encima del contenedor de detalles */
    transition: background 0.3s ease;
}

.close-button:hover {
    background: rgba(255, 255, 255, 0.2);
}

/* Contenido principal de los detalles */
/* Contenido principal de los detalles */
.event-detail-content {
    display: flex; /* Default for mobile/smaller screens */
    flex-direction: column; /* Stack for mobile */
    max-width: 100%; /* No max-width here, let parent .event-detail-container control */
    width: 100%;
    max-height: 100%; /* No max-height here, let parent .event-detail-container control */
    background: transparent; /* Background on container, not content */
    border-radius: 0; /* No border-radius or border on this inner div */
    border: none;
    box-shadow: none;
    overflow: hidden; /* For inner scrolling */
    height: 100%; /* Fill parent height */
}

/* Media Query para Desktop Layout */
    @media screen and (min-width: 769px) {
    .event-detail-content {
        display: grid;
        grid-template-columns: 1fr 1fr; /* Two equal columns */
        grid-template-areas: "text-area image-area"; /* Text on left, images on right */
        flex-direction: row; /* Ensure row direction for desktop */
    }

    .event-text-content {
        grid-area: text-area; /* Assign to text area */
        /* Styling for the left column */
        padding: 30px; /* More padding for text on desktop */
        text-align: left;
        display: flex;
        flex-direction: column;
        justify-content: flex-start; /* Align to top */
        overflow-y: auto; /* Allow scroll for long text */
        background: rgba(0, 0, 0, 0.4); /* Darker background for text for contrast */
        border-right: 1px solid rgba(255, 255, 255, 0.1); /* Separator on right */
        border-left: none; /* Remove left border */
    }

    .event-images-slider {
        grid-area: image-area; /* Assign to image area */
        position: relative; /* Needs to be relative for pseudo-element positioning */
        /* Styling for the right column */
        width: 100%; /* Take full width of its grid cell */
        height: 100%; /* Take full height of its grid cell */
        aspect-ratio: auto; /* Let it fill the space, object-fit will handle images */
        background-color: #1A1A1A; /* Dark background */
        border-left: 1px solid rgba(255, 255, 255, 0.1); /* Separator on left */
        border-right: none; /* Remove right border */
    }

    .event-images-slider::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0; /* Keep gradient on the right side of the images */
        width: 5%; /* Covers 5% of the right side */
        height: 100%;
        background: linear-gradient(to right, transparent, rgba(0, 0, 0, 0.7)); /* From transparent to dark */
        pointer-events: none; /* Allows clicks to pass through */
        z-index: 2; /* Ensure it's above the images but below any controls if needed */
    }
    
    /* Ensure images within the slider fill the space */
    .event-images-track, .event-image {
        height: 100%;
        width: 100%;
    }
}
/* Sección de imágenes del slider */
.event-images-slider {
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9; /* Relación de aspecto para las imágenes */
    overflow: hidden;
}

.event-images-track {
    display: flex;
    width: 100%;
    height: 100%;
    transition: transform 0.5s ease-in-out;
}

.event-image {
    min-width: 100%; /* Cada imagen ocupa el 100% del ancho del track */
    height: 100%;
    object-fit: cover; /* Cubre el contenedor sin distorsionar */
}

/* Flechas del slider */
.slider-arrow {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(0, 0, 0, 0.5);
    border: none;
    color: white;
    font-size: 2rem;
    padding: 10px 15px;
    cursor: pointer;
    z-index: 5; /* Por encima de las imágenes */
    opacity: 0.7;
    transition: opacity 0.3s ease;
}

.slider-arrow:hover {
    opacity: 1;
}

.prev-arrow {
    left: 10px;
    border-radius: 0 5px 5px 0;
}

.next-arrow {
    right: 10px;
    border-radius: 5px 0 0 5px;
}

/* Indicadores de diapositivas (puntos) */
.slider-indicators {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 8px;
    z-index: 5;
}

.slider-indicator {
    width: 10px;
    height: 10px;
    background-color: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.slider-indicator.active {
    background-color: white;
}

/* Sección de texto */
.event-text-content {
    padding: 20px;
    color: white;
    overflow-y: auto; /* Scroll si el contenido es largo */
}

.event-detail-logo {
    width: 120px; /* Adjust as needed */
    height: auto;
    margin-bottom: 20px; /* Space between logo and title */
    filter: drop-shadow(0 2px 8px rgba(51, 52, 52, 0.3)); /* Optional: same as banner logo */
}

.event-detail-title {
    font-size: 1.8rem;
    font-weight: 800;
    margin-bottom: 10px;
    color: var(--color-text-main);
}

.event-detail-description {
    font-size: 1rem;
    line-height: 1.6;
    color: var(--color-text-secondary);
}

/* Media Queries para ajustar en móvil */
@media screen and (max-width: 768px) {
    .event-detail-content {
        max-width: 95%;
        max-height: 95vh;
    }

    .event-images-slider {
        aspect-ratio: 4 / 3; /* Más cuadrado en móvil */
    }

    .slider-arrow {
        font-size: 1.5rem;
        padding: 5px 10px;
    }

    .close-button {
        top: 10px;
        right: 10px;
        width: 30px;
        height: 30px;
        font-size: 1.2rem;
    }

    .event-detail-title {
        font-size: 1.4rem;
    }

    .event-detail-description {
        font-size: 0.9rem;
    }
}